generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model cities {
  id         Int       @id @default(autoincrement())
  country_id Int
  name       String    @db.VarChar(255)
  countries  countries @relation(fields: [country_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  clubs      clubs[]
}

model clubs {
  id      Int    @id @default(autoincrement())
  city_id Int
  name    String @db.VarChar(255)
  cities  cities @relation(fields: [city_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model countries {
  id     Int      @id @default(autoincrement())
  name   String   @db.VarChar(255)
  cities cities[]
}

model fighters {
  id         Int       @id @default(autoincrement())
  name       String    @db.VarChar(255)
  surname    String    @db.VarChar(255)
  patronymic String?   @db.VarChar(255)
  birthday   DateTime? @db.Date
  country_id Int
  city_id    Int
  club_id    Int?
  pic        String?
}

model tournaments {
  id         Int       @id @default(autoincrement())
  name       String    @db.VarChar(255)
  event_date DateTime? @db.Date
  country_id Int
  city_id    Int
  tournament_nominations tournament_nominations[]
}

model nominations {
  id              Int       @id @default(autoincrement())
  name_ru         String    @db.VarChar(255)
  name_en         String    @db.VarChar(255)
  tournament_nominations tournament_nominations[]
}

model tournament_nominations {
  id            Int       @id @default(autoincrement())
  tournament_id Int
  nomination_id Int
  tournaments   tournaments @relation(fields: [tournament_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  nominations   nominations @relation(fields: [nomination_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
